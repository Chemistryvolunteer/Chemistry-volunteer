<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تسجيل فريق أثر كيميائي</title>
    <style>
        body { font-family: 'Tahoma', Arial, sans-serif; background: #f0f4f7; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 20px; }
        .form-container { background: white; padding: 40px; border-radius: 20px; max-width: 550px; width: 100%; box-shadow: 0 15px 35px rgba(0,0,0,0.1); border-top: 8px solid #2c7a7b; }
        h2 { color: #2c7a7b; text-align: center; margin-bottom: 10px; }
        p.subtitle { text-align: center; color: #666; margin-bottom: 30px; font-size: 14px; }
        .input-group { margin-bottom: 15px; }
        input, select { width: 100%; padding: 12px; border-radius: 10px; border: 1px solid #ddd; box-sizing: border-box; font-size: 14px; transition: 0.3s; }
        input:focus, select:focus { border-color: #2c7a7b; outline: none; box-shadow: 0 0 8px rgba(44, 122, 123, 0.2); }
        .row { display: flex; gap: 15px; }
        button { width: 100%; padding: 15px; background: #2c7a7b; color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: bold; cursor: pointer; transition: 0.3s; margin-top: 10px; }
        button:hover { background: #1e5a5c; transform: translateY(-2px); }
        button:disabled { background: #ccc; cursor: not-allowed; }
        footer { text-align: center; margin-top: 25px; font-size: 12px; color: #aaa; border-top: 1px solid #eee; padding-top: 15px; }
    </style>
</head>
<body>

<div class="form-container">
    <h2>تسجيل المتطوعين</h2>
    <p class="subtitle">فريق أثر كيميائي - مبادرة تصنع الأثر</p>
    
    <form id="mainForm">
        <input type="text" name="fullName" placeholder="الاسم الرباعي الكامل" required>
        
        <div class="row">
            <input type="number" name="age" placeholder="العمر" required>
            <input type="tel" name="phone" placeholder="رقم الهاتف (واتساب)" required>
        </div>

        <div class="row">
            <input type="text" name="city" placeholder="المحافظة" required>
            <input type="text" name="district" placeholder="القضاء" required>
        </div>

        <input type="text" name="address" placeholder="عنوان السكن (أقرب نقطة دالة)" required>
        
        <select name="jobStatus" required>
            <option value="">الحالة العملية / الدراسية</option>
            <option value="طالب">طالب</option>
            <option value="خريج">خريج</option>
            <option value="موظف">موظف</option>
            <option value="عمل حر">عمل حر</option>
        </select>

        <input type="text" name="specialization" placeholder="الكلية / المعهد / التخصص الدراسي">

        <select name="prevVolunteer" id="volunteerSelect" required>
            <option value="">هل لديك تجربة تطوعية سابقة؟</option>
            <option value="نعم">نعم</option>
            <option value="لا">لا</option>
        </select>

        <input type="text" name="whereVolunteered" id="extraInfo" placeholder="أين تطوعت وما هي طبيعة عملك السابق؟" style="display:none;">

        <select name="duration" required>
            <option value="">مدة التطوع التي ترغب بها</option>
            <option value="يوم واحد">يوم واحد في الأسبوع</option>
            <option value="يومان">يومان في الأسبوع</option>
            <option value="حسب الحاجة">على مدار الشهر (حسب الحاجة)</option>
        </select>

        <button type="submit" id="submitBtn">إرسال طلب الانضمام</button>
    </form>

    <footer>جميع الحقوق محفوظة © فريق أثر كيميائي – ديالى 2026</footer>
</div>

<script>
    const form = document.getElementById('mainForm');
    const btn = document.getElementById('submitBtn');
    const select = document.getElementById('volunteerSelect');
    const extra = document.getElementById('extraInfo');

    select.onchange = () => { extra.style.display = select.value === 'نعم' ? 'block' : 'none'; };

    form.onsubmit = async (e) => {
        e.preventDefault();
        btn.disabled = true;
        btn.innerText = "جاري الحفظ في الجدول...";

        // ضع هنا رابط الـ /exec الذي حصلت عليه بعد النشر
        const scriptURL = "https://script.google.com/macros/s/AKfycbzgUHXibAdJij4Nn00BAoo7fLZw3a48pvHAdLRxC0RIvsAoiJ71e6UqD4chbOmy-eQr6Q/exec";

        try {
            await fetch(scriptURL, { method: 'POST', body: new FormData(form), mode: 'no-cors'});
            alert("تم استلام بياناتك بنجاح! شكراً لك.");
            form.reset();
            extra.style.display = 'none';
        } catch (error) {
            alert("حدث خطأ، يرجى التأكد من اتصالك بالإنترنت.");
        } finally {
            btn.disabled = false;
            btn.innerText = "إرسال طلب الانضمام";
        }
    };
</script>

</body>
</html>
