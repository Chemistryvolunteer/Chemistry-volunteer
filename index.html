<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تسجيل فريق أثر كيميائي</title>
    <style>
        body { font-family: 'Tahoma', sans-serif; background: #eef2f5; display: flex; justify-content: center; padding: 20px; }
        .card { background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 100%; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h2 { color: #2c7a7b; text-align: center; }
        input, select, button { width: 100%; padding: 12px; margin: 8px 0; border-radius: 8px; border: 1px solid #ddd; box-sizing: border-box; }
        button { background: #2c7a7b; color: white; border: none; cursor: pointer; font-weight: bold; }
        button:hover { background: #1e5a5c; }
        button:disabled { background: #ccc; }
    </style>
</head>
<body>

<div class="card">
    <h2>تسجيل المتطوعين</h2>
    <p style="text-align: center; color: #666;">فريق أثر كيميائي - محافظة ديالى</p>
    
    <form id="regForm">
        <input type="text" name="fullName" placeholder="الاسم الكامل" required>
        <input type="number" name="age" placeholder="العمر" required>
        <input type="tel" name="phone" placeholder="رقم الهاتف" required>
        <input type="text" name="city" placeholder="المحافظة" required>
        <input type="text" name="district" placeholder="القضاء" required>
        <input type="text" name="address" placeholder="السكن / نقطة دالة" required>
        
        <select name="jobStatus" required>
            <option value="">الحالة العملية</option>
            <option value="طالب">طالب</option>
            <option value="خريج">خريج</option>
            <option value="موظف">موظف</option>
        </select>

        <input type="text" name="specialization" placeholder="الكلية / التخصص">

        <select name="prevVolunteer" id="pVol" required>
            <option value="">هل تطوعت سابقاً؟</option>
            <option value="نعم">نعم</option>
            <option value="لا">لا</option>
        </select>
        <input type="text" name="whereVolunteered" id="wVol" placeholder="أين تطوعت؟" style="display:none;">

        <select name="duration" required>
            <option value="">مدة التطوع المتاحة</option>
            <option value="يوم واحد">يوم واحد</option>
            <option value="يومان">يومان</option>
            <option value="مفتوح">حسب الحاجة</option>
        </select>

        <button type="submit" id="subBtn">إرسال البيانات</button>
    </form>
</div>

<script>
    const form = document.getElementById('regForm');
    const btn = document.getElementById('subBtn');
    
    document.getElementById('pVol').onchange = function() {
        document.getElementById('wVol').style.display = this.value === 'نعم' ? 'block' : 'none';
    };

    form.onsubmit = async (e) => {
        e.preventDefault();
        btn.disabled = true;
        btn.innerText = "جاري الإرسال...";

        // !!! استبدل الرابط أدناه برابط الـ /exec الخاص بك !!!
        const scriptURL = "https://script.google.com/macros/s/AKfycbxvv2bKxIgv40EE47zEc_fGY5EQM7EbvKcvnAkd85S-_bTJb-Newb_quA8hSqLs0qVQUQ/exec";

        try {
            await fetch(scriptURL, { method: 'POST', body: new FormData(form)});
            alert("تم تسجيل بياناتك في الجدول بنجاح!");
            form.reset();
        } catch (error) {
            alert("حدث خطأ، حاول مرة أخرى.");
        } finally {
            btn.disabled = false;
            btn.innerText = "إرسال البيانات";
        }
    };
</script>
</body>
</html>
